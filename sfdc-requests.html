
<!DOCTYPE html>
<html lang="en">

    <head>

        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv='cache-control' content='no-cache'> 
        <meta http-equiv='expires' content='0'> 
        <meta http-equiv='pragma' content='no-cache'>

    </head>
    
    <body onload="loadLightningOut()">

        <div data-lightning-out="true"></div>
        
        <script src="https://myrequests.qiagen.com/lightning/lightning.out.js"></script>

        <script>

            function loadLightningOut() {

                try {
                    /*
                    let headers = new Headers();
                    headers.append('Access-Control-Allow-Origin', '*');
                    */
                    const appName = 'c:RaiseRequestAuraWrapper';
                    const componentName = 'c:raiseRequestMain';
                    
                    const lightningEndpoint = 'https://myrequests.qiagen.com';

                    const targetElement = document.querySelector("[data-lightning-out]");
                    const componentAttributes = {};

                    const authToken = '00DD0000000rgRO!AQEAQJOfpaaJ.vAzrO49MpyOZwm0tiGFeKL0AiEJ1TQI0VpVwMUky5yyA56Y_jMLOsM2p9.6mq_Iiegs57NICA.uJIeAt7Tb';

                    console.log("loadLightningOut");
                    
                    $Lightning.use(
                            appName,
                            function() {
                                $Lightning.createComponent(
                                        componentName,
                                        componentAttributes,
                                        targetElement,
                                        function (cmp){
                                            console.log('lightning component created');
                                        }
                                );
                            },
                            lightningEndpoint,
                            authToken
                    );

                } catch(e) {
                    console.error("Error >> ", e);
                }

            }

        </script>
        
    </body>

</html>