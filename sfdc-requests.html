
<!DOCTYPE html>
<html lang="en">

    <head>

        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv='cache-control' content='no-cache'> 
        <meta http-equiv='expires' content='0'> 
        <meta http-equiv='pragma' content='no-cache'>
        
        <script src="https://qiagen--qa.sandbox.my.site.com/myrequests/lightning/lightning.out.js"></script>

    </head>
    
    <body onload="loadLightningOut()">

        <div data-lightning-out="true"></div>

        <script>

            function loadLightningOut() {

                try {

                    const appName = 'c:RaiseRequestAuraWrapper';
                    const componentName = 'c:raiseRequestMain';
                    
                    const lightningEndpoint = 'https://qiagen--qa.sandbox.my.site.com/myrequests/';

                    const targetElement = document.querySelector("[data-lightning-out]");
                    const componentAttributes = {};

                    const authToken = '00D9Z000000uIyL!AQEAQH9jmkQvd2SbJaR2foxrk.brnULgYqEbK5qZ.H0SDP1BG19e_vOLmrQf51aewUBej3ZgxrJ.fB9WwM.TwvZ..BB6eBg9';

                    console.log("loadLightningOut");
                    
                    $Lightning.use(
                            appName,
                            function() {
                                $Lightning.createComponent(
                                        componentName,
                                        componentAttributes,
                                        targetElement,
                                        function (cmp){
                                            console.log('lightning component created');
                                        }
                                );
                            },
                            lightningEndpoint,
                            authToken
                    );

                    $Lightning.use(
                            appName,
                            function() {
                                $Lightning.createComponent(
                                        componentName,
                                        componentAttributes,
                                        targetElement,
                                        function (cmp){
                                            console.log('lightning component created');
                                        }
                                );
                            },
                            lightningEndpoint,
                            authToken
                    );

                } catch(e) {
                    console.error("Error >> ", e);
                }

            }

        </script>
        
    </body>

</html>